<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Dimensions iPhone</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background: #f0f0f0;
      }
      .info {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin: 10px 0;
        border-left: 4px solid #667eea;
      }
      .big {
        font-size: 24px;
        font-weight: bold;
        color: #667eea;
      }
      .medium {
        font-size: 18px;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <h1>üîç Test Dimensions iPhone</h1>

    <div class="info">
      <div class="big">Dimensions de votre √©cran :</div>
      <div class="medium" id="screen-info">Chargement...</div>
    </div>

    <div class="info">
      <div class="big">Informations d√©taill√©es :</div>
      <div class="medium" id="detailed-info">Chargement...</div>
    </div>

    <div class="info">
      <div class="big">Media Query qui devrait matcher :</div>
      <div class="medium" id="media-query">Chargement...</div>
    </div>

    <div class="info">
      <div class="big">Test d'acc√®s aux images :</div>
      <div class="medium">
        <img
          src="https://mmaaxx.github.io/busly/icons/debug-splash-1179x2556.png"
          style="
            max-width: 200px;
            border: 2px solid #ccc;
            display: block;
            margin: 10px 0;
          "
          onload="document.getElementById('image-status').innerHTML = '‚úÖ Image accessible'"
          onerror="document.getElementById('image-status').innerHTML = '‚ùå Image non accessible'"
        />
        <div id="image-status">Chargement de l'image...</div>
      </div>
    </div>

    <script>
      // Obtenir les informations de l'√©cran
      const screenWidth = screen.width;
      const screenHeight = screen.height;
      const devicePixelRatio = window.devicePixelRatio;
      const windowWidth = window.innerWidth;
      const windowHeight = window.innerHeight;

      // Afficher les informations de base
      document.getElementById("screen-info").innerHTML =
        `Largeur √©cran: ${screenWidth}px<br>` +
        `Hauteur √©cran: ${screenHeight}px<br>` +
        `Pixel Ratio: ${devicePixelRatio}`;

      // Afficher les informations d√©taill√©es
      document.getElementById("detailed-info").innerHTML =
        `Window inner: ${windowWidth} √ó ${windowHeight}<br>` +
        `Screen: ${screenWidth} √ó ${screenHeight}<br>` +
        `User Agent: ${navigator.userAgent}<br>` +
        `Orientation: ${
          screen.orientation ? screen.orientation.angle : "non disponible"
        }¬∞`;

      // D√©terminer quelle media query devrait matcher
      let expectedQuery = "Aucune correspondance trouv√©e";

      // Test des diff√©rentes tailles d'iPhone
      if (
        screenWidth === 393 &&
        screenHeight === 852 &&
        devicePixelRatio === 3
      ) {
        expectedQuery = "iPhone 12 Pro / 13 / 14 / 15 (393√ó852, ratio 3)";
      } else if (
        screenWidth === 375 &&
        screenHeight === 812 &&
        devicePixelRatio === 3
      ) {
        expectedQuery = "iPhone X / XS / 11 Pro (375√ó812, ratio 3)";
      } else if (
        screenWidth === 414 &&
        screenHeight === 896 &&
        devicePixelRatio === 3
      ) {
        expectedQuery = "iPhone 11 Pro Max / XS Max (414√ó896, ratio 3)";
      } else if (
        screenWidth === 375 &&
        screenHeight === 667 &&
        devicePixelRatio === 2
      ) {
        expectedQuery = "iPhone SE / 8 / 7 / 6 (375√ó667, ratio 2)";
      } else {
        expectedQuery = `DIMENSIONS NON RECONNUES: ${screenWidth}√ó${screenHeight}, ratio ${devicePixelRatio}`;
      }

      document.getElementById("media-query").innerHTML = expectedQuery;

      // Test des media queries CSS
      setTimeout(() => {
        const tests = [
          {
            query:
              "(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)",
            name: "iPhone 12 Pro query",
          },
          {
            query:
              "(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)",
            name: "iPhone X query",
          },
          {
            query:
              "(min-device-width: 390px) and (max-device-width: 400px) and (-webkit-device-pixel-ratio: 3)",
            name: "Fallback iPhone 12 Pro",
          },
        ];

        let matchResults = "<br><strong>Tests Media Queries:</strong><br>";
        tests.forEach((test) => {
          const matches = window.matchMedia(test.query).matches;
          matchResults += `${matches ? "‚úÖ" : "‚ùå"} ${test.name}<br>`;
        });

        document.getElementById("media-query").innerHTML += matchResults;
      }, 1000);
    </script>
  </body>
</html>
